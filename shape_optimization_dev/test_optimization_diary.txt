
gd_params = 

  <a href="matlab:helpPopup struct" style="font-weight:bold">struct</a> with fields:

             maxiter: 100
              report: 1
                 eps: 0.0100
              hspace: 1.0000e-03
     line_search_eps: 1.0000e-04
    line_search_beta: 0.5000
              savefn: 'gd.mat'


loss_params = 

  <a href="matlab:helpPopup struct" style="font-weight:bold">struct</a> with fields:

    default_chebabs: [1 10]
           chnk_fun: @chnk_poly
         udnorm_ord: 'inf'
          unorm_ord: '2'

Polygon polygon with 8 vertices

idx =

     1     1     1     1     1     1     1     1

{Operation terminated by user during <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chnk.quadggq.diagbuildmat')" style="font-weight:bold">chnk.quadggq.diagbuildmat</a>


In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chnk.quadggq.buildmattd', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chunkie\chunkie\+chnk\+quadggq\buildmattd.m', 126)" style="font-weight:bold">chnk.quadggq.buildmattd</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chunkie\chunkie\+chnk\+quadggq\buildmattd.m',126,0)">line 126</a>)
      submat = chnk.quadggq.diagbuildmat(r,d,n,d2,h,data,j,kern,opdims,...

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chunkerflam', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chunkie\chunkie\chunkerflam.m', 154)" style="font-weight:bold">chunkerflam</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chunkie\chunkie\chunkerflam.m',154,0)">line 154</a>)
    sp = chnk.quadggq.buildmattd(chnkr,kern,opdims,type);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('helm_dir_det', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\src\helm_dir_det.m', 43)" style="font-weight:bold">helm_dir_det</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\src\helm_dir_det.m',43,0)">line 43</a>)
    F = chunkerflam(chnkr,fkern,dval,opts_flam);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('find_first_eig>@(zk)helm_dir_det(zk,chnkr,opts)', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\find_first_eig.m', 15)" style="font-weight:bold">find_first_eig>@(zk)helm_dir_det(zk,chnkr,opts)</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\find_first_eig.m',15,0)">line 15</a>)
    detfun = @(zk) helm_dir_det(zk,chnkr,opts);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebfun>vec/loopWrapperScalar', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\chebfun.m', 966)" style="font-weight:bold">chebfun>vec/loopWrapperScalar</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\chebfun.m',966,0)">line 966</a>)
            v(j) = op(x(j));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('bndfun>@(x)op(linmap.For(x))', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@bndfun\bndfun.m', 99)" style="font-weight:bold">bndfun>@(x)op(linmap.For(x))</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@bndfun\bndfun.m',99,0)">line 99</a>)
                op = @(x) op(linmap.For(x));

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebtech2.refine>refineNested', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech2\refine.m', 134)" style="font-weight:bold">chebtech2.refine>refineNested</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech2\refine.m',134,0)">line 134</a>)
        values(2:2:end-1,:) = feval(op, x);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebtech2.refine', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech2\refine.m', 46)" style="font-weight:bold">chebtech2.refine</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech2\refine.m',46,0)">line 46</a>)
    [values, giveUp] = refineNested(op, values, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebtech/populate', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech\populate.m', 92)" style="font-weight:bold">chebtech/populate</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech\populate.m',92,0)">line 92</a>)
    [values, giveUp] = f.refine(op, values, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebtech2', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech2\chebtech2.m', 102)" style="font-weight:bold">chebtech2</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebtech2\chebtech2.m',102,0)">line 102</a>)
            [obj, values] = populate(obj, op, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('smoothfun.constructor', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@smoothfun\smoothfun.m', 57)" style="font-weight:bold">smoothfun.constructor</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@smoothfun\smoothfun.m',57,0)">line 57</a>)
            obj = feval(pref.tech, op, data, pref.techPrefs);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('onefun.constructor', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@onefun\onefun.m', 71)" style="font-weight:bold">onefun.constructor</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@onefun\onefun.m',71,0)">line 71</a>)
                obj = smoothfun.constructor(op, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('bndfun', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@bndfun\bndfun.m', 103)" style="font-weight:bold">bndfun</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@bndfun\bndfun.m',103,0)">line 103</a>)
            obj.onefun = onefun.constructor(op, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('classicfun.constructor', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@classicfun\classicfun.m', 100)" style="font-weight:bold">classicfun.constructor</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@classicfun\classicfun.m',100,0)">line 100</a>)
                obj = bndfun(op, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('fun.constructor', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@fun\fun.m', 51)" style="font-weight:bold">fun.constructor</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@fun\fun.m',51,0)">line 51</a>)
                obj = classicfun.constructor(op, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebfun/constructor>getFun', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\constructor.m', 276)" style="font-weight:bold">chebfun/constructor>getFun</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\constructor.m',276,0)">line 276</a>)
g = fun.constructor(op, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebfun/constructor>constructorNoSplit', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\constructor.m', 110)" style="font-weight:bold">chebfun/constructor>constructorNoSplit</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\constructor.m',110,0)">line 110</a>)
    [funs{k}, ishappy, data.vscale] = getFun(opk, endsk, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebfun/constructor', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\constructor.m', 63)" style="font-weight:bold">chebfun/constructor</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\constructor.m',63,0)">line 63</a>)
    [funs, ends] = constructorNoSplit(op, dom, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('chebfun', 'C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\chebfun.m', 219)" style="font-weight:bold">chebfun</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\chebfun\@chebfun\chebfun.m',219,0)">line 219</a>)
                [f.funs, f.domain] = chebfun.constructor(op, dom, data, pref);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('find_first_eig', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\find_first_eig.m', 16)" style="font-weight:bold">find_first_eig</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\find_first_eig.m',16,0)">line 16</a>)
    detchebs = chebfun(detfun,chebabs,p);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('loss', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\loss.m', 43)" style="font-weight:bold">loss</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\loss.m',43,0)">line 43</a>)
        start = tic; [zk, err_nullvec, sigma] = find_first_eig(chnkr, chebabs);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('gd', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\gd.m', 58)" style="font-weight:bold">gd</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\gd.m',58,0)">line 58</a>)
        [loss, chebabs] = fun(opt, loss_params);

In <a href="matlab:matlab.internal.language.introspective.errorDocCallback('test', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\test.m', 30)" style="font-weight:bold">test</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\test.m',30,0)">line 30</a>)
[opt, gd_log] = gd(@loss, init_weight, gd_params, loss_params);
} 
test

gd_params = 

  <a href="matlab:helpPopup struct" style="font-weight:bold">struct</a> with fields:

             maxiter: 100
              report: 1
                 eps: 0.0100
              hspace: 1.0000e-03
     line_search_eps: 1.0000e-04
    line_search_beta: 0.5000
              savefn: 'gd.mat'


loss_params = 

  <a href="matlab:helpPopup struct" style="font-weight:bold">struct</a> with fields:

    default_chebabs: [1 10]
           chnk_fun: @chnk_poly
         udnorm_ord: 'inf'
          unorm_ord: '2'

Polygon polygon with 8 vertices

idx =

     1     1     1     1     1     1     1     1

Time to find eigenvalue: 8.97e+01; Time to compute 2-norm: 1.01e+01

chebabs =

    4.3123    4.7662


loss =

   -0.2776

Computing 8 derivatives: 
{Unrecognized function or variable 'idx'.

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('gd', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\gd.m', 65)" style="font-weight:bold">gd</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\gd.m',65,0)">line 65</a>)
            if idx(param_idx)

Error in <a href="matlab:matlab.internal.language.introspective.errorDocCallback('test', 'C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\test.m', 30)" style="font-weight:bold">test</a> (<a href="matlab: opentoline('C:\Users\charl\Desktop\jm_shape_optimization\code\hot-spots\shape_optimization_dev\test.m',30,0)">line 30</a>)
[opt, gd_log] = gd(@loss, init_weight, gd_params, loss_params);
} 
